(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{170:function(t,s,e){"use strict";e.r(s);var a=e(0),n=Object(a.a)({},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"content"},[t._m(0),t._v(" "),t._m(1),t._v(" "),t._m(2),t._v(" "),e("p",[t._v("In the renderer process, static assets work similarly to a regular app. Read Vue CLI's documentation "),e("a",{attrs:{href:"https://cli.vuejs.org/guide/html-and-static-assets.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("here"),e("OutboundLink")],1),t._v(" before continuing. However, there are a few changes made:")]),t._v(" "),t._m(3),t._v(" "),t._m(4),t._v(" "),t._m(5),t._v(" "),t._m(6),t._v(" "),t._m(7),t._v(" "),t._m(8),t._m(9),t._v(" "),t._m(10),t._m(11),t._v(" "),t._m(12),t._v(" "),e("p",[t._v("The build command consists of three main phases: render build, main build, and electron-builder build:")]),t._v(" "),e("ol",[t._m(13),t._v(" "),t._m(14),t._v(" "),e("li",[t._v("Electron-builder build: This phase uses "),e("a",{attrs:{href:"https://www.electron.build",target:"_blank",rel:"noopener noreferrer"}},[t._v("electron-builder"),e("OutboundLink")],1),t._v(" to turn your web app code into an desktop app powered by "),e("a",{attrs:{href:"https://electronjs.org",target:"_blank",rel:"noopener noreferrer"}},[t._v("Electron"),e("OutboundLink")],1),t._v(".")])]),t._v(" "),t._m(15),t._v(" "),e("p",[t._v("The serve command also consists of 3 main phases: main build, dev server launch, and electron launch:")]),t._v(" "),t._m(16),t._v(" "),t._m(17),t._v(" "),e("p",[t._v("This plugin is nearly production ready. It has test coverage for everything but the UI interface and proper logging of errors. It needs to be used a little bit more in large applications before it is considered safe to use in a large production environment. Please try it in your app and report any bugs or feature requests.")])])},[function(){var t=this.$createElement,s=this._self._c||t;return s("h1",{attrs:{id:"guide"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#guide","aria-hidden":"true"}},[this._v("#")]),this._v(" Guide")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"handling-static-assets"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#handling-static-assets","aria-hidden":"true"}},[this._v("#")]),this._v(" Handling static assets")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"renderer-process-main-app"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#renderer-process-main-app","aria-hidden":"true"}},[this._v("#")]),this._v(" Renderer process (main app)")])},function(){var t=this.$createElement,s=this._self._c||t;return s("ul",[s("li",[this._v("The "),s("code",[this._v("__static")]),this._v(" global variable is added. It provides a path to your public directory in both development and production. Use this to read/write files in your app's public directory.")]),this._v(" "),s("li",[this._v("In production, the "),s("code",[this._v("process.env.BASE_URL")]),this._v(" is replaced with the path to your app's files.")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("strong",[this._v("Note: "),s("code",[this._v("__static")]),this._v(" is not available in regular build/serve. It should only be used in electron to read/write files on disk. To import a file (img, script, etc...) and not have it be transpiled by webpack, use the "),s("code",[this._v("process.env.BASE_URL")]),this._v(" instead.")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"main-process-background-js"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#main-process-background-js","aria-hidden":"true"}},[this._v("#")]),this._v(" Main process (background.js)")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("The main process won't have access to "),s("code",[this._v("process.env.BASE_URL")]),this._v(" or "),s("code",[this._v("src/assets")]),this._v(". However, you can still use "),s("code",[this._v("__static")]),this._v(" to get a path to your public directory in development and production.")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"examples"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#examples","aria-hidden":"true"}},[this._v("#")]),this._v(" Examples:")])},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"language-vue extra-class"},[e("pre",{pre:!0,attrs:{class:"language-vue"}},[e("code",[e("span",{attrs:{class:"token comment"}},[t._v("\x3c!-- Renderer process only --\x3e")]),t._v("\n"),e("span",{attrs:{class:"token comment"}},[t._v("\x3c!-- This image will be processed by webpack and placed under img/ --\x3e")]),t._v("\n"),e("span",{attrs:{class:"token tag"}},[e("span",{attrs:{class:"token tag"}},[e("span",{attrs:{class:"token punctuation"}},[t._v("<")]),t._v("img")]),t._v(" "),e("span",{attrs:{class:"token attr-name"}},[t._v("src")]),e("span",{attrs:{class:"token attr-value"}},[e("span",{attrs:{class:"token punctuation"}},[t._v("=")]),e("span",{attrs:{class:"token punctuation"}},[t._v('"')]),t._v("./assets/logo.png"),e("span",{attrs:{class:"token punctuation"}},[t._v('"')])]),e("span",{attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n"),e("span",{attrs:{class:"token comment"}},[t._v("\x3c!-- Renderer process only --\x3e")]),t._v("\n"),e("span",{attrs:{class:"token comment"}},[t._v("\x3c!-- This image will no be processed by webpack, just copied--\x3e")]),t._v("\n"),e("span",{attrs:{class:"token comment"}},[t._v("\x3c!-- imgPath should equal `path.join(process.env.BASE_URL, 'logo.png')` --\x3e")]),t._v("\n"),e("span",{attrs:{class:"token tag"}},[e("span",{attrs:{class:"token tag"}},[e("span",{attrs:{class:"token punctuation"}},[t._v("<")]),t._v("img")]),t._v(" "),e("span",{attrs:{class:"token attr-name"}},[t._v(":src")]),e("span",{attrs:{class:"token attr-value"}},[e("span",{attrs:{class:"token punctuation"}},[t._v("=")]),e("span",{attrs:{class:"token punctuation"}},[t._v('"')]),t._v("imgPath"),e("span",{attrs:{class:"token punctuation"}},[t._v('"')])]),e("span",{attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n"),e("span",{attrs:{class:"token comment"}},[t._v("\x3c!-- Both renderer and main process --\x3e")]),t._v("\n"),e("span",{attrs:{class:"token comment"}},[t._v("\x3c!-- This will read the contents of public/myText.txt --\x3e")]),t._v("\n"),e("span",{attrs:{class:"token tag"}},[e("span",{attrs:{class:"token tag"}},[e("span",{attrs:{class:"token punctuation"}},[t._v("<")]),t._v("script")]),e("span",{attrs:{class:"token punctuation"}},[t._v(">")])]),e("span",{attrs:{class:"token script language-javascript"}},[t._v("\n"),e("span",{attrs:{class:"token keyword"}},[t._v("const")]),t._v(" fs "),e("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{attrs:{class:"token function"}},[t._v("require")]),e("span",{attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{attrs:{class:"token string"}},[t._v("'fs'")]),e("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),e("span",{attrs:{class:"token keyword"}},[t._v("const")]),t._v(" path "),e("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{attrs:{class:"token function"}},[t._v("require")]),e("span",{attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{attrs:{class:"token string"}},[t._v("'path'")]),e("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),e("span",{attrs:{class:"token comment"}},[t._v("// Expects myText.txt to be placed in public folder")]),t._v("\n"),e("span",{attrs:{class:"token keyword"}},[t._v("const")]),t._v(" fileLocation "),e("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" path"),e("span",{attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{attrs:{class:"token function"}},[t._v("join")]),e("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("__static"),e("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{attrs:{class:"token string"}},[t._v("'myText.txt'")]),e("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),e("span",{attrs:{class:"token keyword"}},[t._v("const")]),t._v(" fileContents "),e("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" fs"),e("span",{attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{attrs:{class:"token function"}},[t._v("readFileSync")]),e("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("fileLocation"),e("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{attrs:{class:"token string"}},[t._v("'utf8'")]),e("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\nconsole"),e("span",{attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{attrs:{class:"token function"}},[t._v("log")]),e("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("fileContents"),e("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")]),e("span",{attrs:{class:"token tag"}},[e("span",{attrs:{class:"token tag"}},[e("span",{attrs:{class:"token punctuation"}},[t._v("</")]),t._v("script")]),e("span",{attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"folder-structure"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#folder-structure","aria-hidden":"true"}},[this._v("#")]),this._v(" Folder Structure")])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[this._v("├── dist_electron/\n│ ├── bundled/..  # where webpack outputs compiled files\n│ ├── [target platform]-unpacked/..  # unpacked Electron app (main app and supporting files)\n│ ├── [application name] setup [version].[target binary (exe|dmg|rpm...)]  # installer for Electron app\n│ ├── background.js  # compiled background file used for serve:electron\n│ └── ...\n├── public/  # Files placed here will be avalible through __static or process.env.BASE_URL\n├── src/\n│ ├── background.[js|ts]  # electron entry file (for Electron's main process)\n│ ├── [main|index].[js|ts]  # your app's entry file (for Electron's render process)\n│ └── ...\n├── package.json  # your app's package.json file\n├── ...\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"how-it-works"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#how-it-works","aria-hidden":"true"}},[this._v("#")]),this._v(" How it works")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"build-command"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#build-command","aria-hidden":"true"}},[this._v("#")]),this._v(" Build command")])},function(){var t=this.$createElement,s=this._self._c||t;return s("li",[this._v("Render build: This phase calls "),s("code",[this._v("vue-cli-service build")]),this._v(" with some custom configuration so it works properly with electron. (The render process is your standard app.)")])},function(){var t=this.$createElement,s=this._self._c||t;return s("li",[this._v("Main build: This phase is where vue-cli-plugin-electron-builder bundles your background file for the main process ("),s("code",[this._v("src/background.js")]),this._v(").")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"serve-command"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#serve-command","aria-hidden":"true"}},[this._v("#")]),this._v(" Serve command")])},function(){var t=this.$createElement,s=this._self._c||t;return s("ol",[s("li",[this._v("Dev server launch: This phase starts the built in dev server with a few modifications to work properly with electron.")]),this._v(" "),s("li",[this._v("Main build: This phase, like in the build command, bundles your app's main process, but in development mode.")]),this._v(" "),s("li",[this._v("Electron launch: This phase launches electron and tells it to load the url of the above dev server.")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"is-this-plugin-production-ready"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#is-this-plugin-production-ready","aria-hidden":"true"}},[this._v("#")]),this._v(" Is this plugin production ready?")])}],!1,null,null,null);s.default=n.exports}}]);